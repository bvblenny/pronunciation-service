spring.application.name=pronunciation-service

# Google Cloud Configuration
# For local development, set the path to your service account key file
# spring.cloud.gcp.credentials.location=file:/path/to/service-account-key.json

# Alternatively, use environment variables for production:
# GOOGLE_APPLICATION_CREDENTIALS environment variable should be set to the path of your service account key file
spring.cloud.gcp.project-id=${GCP_PROJECT_ID:your-project-id}

logging.level.de.demo.pronunciationservice=DEBUG
logging.level.com.google.cloud=INFO

sphinx.acoustic-model=resource:/models/cmusphinx-en-us-5.2
sphinx.dictionary=resource:/models/cmudict-en-us.dict
sphinx.language-model=resource:/models/en-us.lm.bin

# Note: Use absolute path for vosk model
vosk.model-path=${VOSK_MODEL_PATH:/path/to/vosk-model-small-en-us-0.15}
vosk.sample-rate=16000

google.speech.language-code=${GOOGLE_SPEECH_LANGUAGE:en-US}
google.speech.enable-word-time-offsets=true

transcription.default-provider=${TRANSCRIPTION_PROVIDER:sphinx}

media.ffmpeg.path=${FFMPEG_PATH:ffmpeg}

server.address=0.0.0.0
server.port=${PORT:8080}
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=15s

app.cors.allowed-origin-patterns=http://localhost:4200,http://127.0.0.1:4200,http://*:* ,https://*:*
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=*

spring.servlet.multipart.max-file-size=500MB
spring.servlet.multipart.max-request-size=510MB

management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true
management.metrics.tags.application=${spring.application.name}

# TODO: temporarily disable Secret Manager until the deployment issue is resolved
spring.cloud.gcp.secretmanager.enabled=false

springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# API Security Configuration
# Enable/disable API key authentication (default: true)
app.security.enabled=${API_SECURITY_ENABLED:true}
# Comma-separated list of valid API keys
# Default key for development only - CHANGE IN PRODUCTION
app.security.api-keys=${API_KEYS:IJAE8hy/yqNcJEsWhgRS54vN39A/9kWBYB4lMb0QPc4=}
